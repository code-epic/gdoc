<div class="header bg-gradient-success pb-8 pt-4 pt-md-8">
  <div class="container-fluid">
      <p></p>
  </div>
</div>
<div class="container-fluid mt--9">
  <div class="row">
      <div class="col-xl-12 col-md-12 col-lg-12">
          <div class="card shadow">
              <div class="card-header bg-transparent">
                  <div class="row align-items-center">
                      <div class="col-md-10">
                          <h6 class="text-uppercase text-muted ls-1 mb-1">Resoluciones</h6>
                          <h2 class="mb-0">Procesos</h2>
                      </div>
                      <div class="col-md-1">
                          <div class="media align-items-center">
                              <div class="example-button-row">
                                  <button mat-icon-button title="Volver Atrás" onclick="history.back()">
                                      <mat-icon>arrow_back</mat-icon>
                                  </button>
                              </div>
                          </div>
                      </div>
                      <div class="col-md-1">
                          <ul class="navbar-nav align-items-right d-none d-md-flex">
                              <li class="nav-item" ngbDropdown placement="bottom-right">
                                  <a class="nav-link pr-0" role="button" ngbDropdownToggle>
                                      <div class="media align-items-center">
                                          <div class="example-button-row">
                                              <button mat-icon-button aria-label="">
                                                  <mat-icon>add</mat-icon>
                                              </button>
                                          </div>
                                      </div>
                                  </a>
                                  <div class="dropdown-menu-arrow dropdown-menu-right" ngbDropdownMenu>
                                      <a routerLinkActive="active" [routerLink]="['/documento']"
                                          class="dropdown-item">
                                          <i class="fa fa-plus"></i>
                                          <span>Agregar entrada</span>
                                      </a>
                                      <a routerLinkActive="active" [routerLink]="['/rsprocesos/oresoluciones']"
                                          class="dropdown-item">
                                          <i class="fa fa-plus"></i>
                                          <span>Agragar resuelto</span>
                                      </a>

                                  </div>
                              </li>
                          </ul>
                      </div>
                  </div>
              </div>








              <div class="card-body">
                <div class="row">

                    <div class="col-md-12">
                        <ngx-ui-loader [loaderId]="'loader-buscar'"></ngx-ui-loader>
                        <mat-tab-group mat-stretch-tabs class="example-stretched-tabs">
                            <mat-tab>
                                <ng-template mat-tab-label>
                                &nbsp;ESPECIFICA
                                </ng-template>
                                <br>
                                <div class="container">
                                    
                                 
                                    <div class="row">
                                        
                                        <div class="form-group col-md-5">
                                            <mat-form-field appearance="outline">
                                                <mat-label>Cédula</mat-label>
                                                <input matInput placeholder="Cédula" [ngModelOptions]="{standalone: true}"
                                                [(ngModel)]="cedula" 
                                                (keypress)="consultarCedula($event)">
                                                <mat-icon matSuffix>search</mat-icon>
                                            </mat-form-field>
                                        </div>
                                        <div class="form-group col-md-5">
                                            <mat-form-field appearance="outline">
                                                <mat-label>Numero de resuelto</mat-label>
                                                <input matInput placeholder="Numero de resuelto" [ngModelOptions]="{standalone: true}"
                                                [(ngModel)]="IResolucion.numero" value="{{IResolucion.numero}}"
                                                (keypress)="consultarResolucion($event)">
                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="text-left" style="padding-top: 5px;">
                                                <button class="btn bg-primary text-white" style="height: 50px;" (click)="verificar()">
                                                    Consultar 
                                                   
                                                </button>
                                            </div>
                                        </div>
                                        
                                    </div>

                                    <hr>
                                    <div class="row" *ngIf="dbTools">
                                        <div class="col-md-11">

                                        </div>
                                        <div class="col-md-1">
                                            <div class="media align-items-center">
                                                <div class="example-button-row">
                                                    <button mat-icon-button title="Volver resuelto" (click)="obtenerResuelto()">
                                                        <mat-icon style="color:brown">arrow_forward</mat-icon>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row" *ngIf="dbDatos">
                                        <div class="col-md-1"></div>
                                        <div class="col-md-10">
                                            <table style="width: 100%;" border="1" class="zigzag">
                                                <thead>
                                                    <tr>
                                                        <th colspan="2" class="text-center" style="padding: 15px;">FICHA DE DATOS PERSONALES</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <th>CEDULA</th>
                                                        <td>V-{{IDatosBasicos.cedula}}</td>
                                                    </tr>
                                                    <tr>
                                                        <th>GRADO</th>
                                                        <td>{{IDatosBasicos.grado}}</td>
                                                    </tr>
                                                    <tr>
                                                        <th>NOMBRE COMPLETO</th>
                                                        <td>{{IDatosBasicos.nombres}}</td>
                                                    </tr>
                                                    <tr>
                                                        <th>COMPONENTES</th>
                                                        <td>{{IDatosBasicos.componente}}</td>
                                                    </tr>
                                                    <tr>
                                                        <th>CATEGORIA</th>
                                                        <td>{{IDatosBasicos.categoria}}</td>
                                                    </tr>
                                                    <tr>
                                                        <th>CLASIFICACION</th>
                                                        <td>{{IDatosBasicos.clasificacion}}</td>
                                                    </tr>
                                                    <tr>
                                                        <th>SEXO</th>
                                                        <td></td>
                                                    </tr>
                                                    <tr>
                                                        <th>SITUACION</th>
                                                        <td></td>
                                                    </tr>
                                                </tbody>
                                                
                                            </table>
                                        </div>
                                        <div class="col-md-1"></div>
                                    </div>
                                    <br><br>
                                    <div class="row" *ngIf="dbDatos">
                                        <div class="col-md-12">
                                            <table style="width: 100%;" class="zigzag" border="1" >
                                                <thead>
                                                    <tr>
                                                        <th colspan="5" class="text-center" style="padding: 15px;">FICHA DE RESOLUCIONES</th>
                                                    </tr>
                                                    <tr>
                                                        <th style="width: 90px;"> FECHA</th>
                                                        <th>NUMERO</th>
                                                        <th>TIPO</th>
                                                        <th>ASUNTO</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr *ngFor="let e of lstResoluciones">
                                                        <td>{{e.fecha}}</td>
                                                        <td>+ <a class="enlace" href="{{ obtenerUbicacion(e.fecha, e.titulo) }}" target="_blank" style="font-weight: bold; color: brown;"> {{e.titulo}} </a> </td>
                                                        <td>{{  obtenerTipo(e.tipo) }}</td>
                                                        <td>{{e.asunto}}</td>
                                                    </tr>
                                                </tbody>
                                                
                                            </table>
                                        </div>

                                    </div>

                                    <div class="row" *ngIf="dbResolucion">
                                        
                                        <div class="col-md-12">
                                            <table style="width: 100%;" class="zigzag" border="1" >
                                                <thead>
                                                    <tr>
                                                        <th colspan="6" class="text-center" style="padding: 15px;">FICHA DE DATOS RESOLUCIONES ( {{ resolucion }} ) </th>
                                                    </tr>
                                                    <tr>
                                                        <th style="width: 90px;"> FECHA</th>
                                                        <th style="width: 110px;"> CEDULA</th>
                                                        <th style="width: 110px;"> NOMBRE COMPLETO</th>
                                                        <th > GRADO</th>
                                                        <th>TIPO</th>
                                                        <th>ASUNTO</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr *ngFor="let e of lstResolucionesS">
                                                        <td>{{ e.fecha_resolucion }}</td>
                                                        <td> + <a class="enlace" (click)="obtenerCedula(e.cedula)" style="font-weight: bold; color: brown;"> {{e.cedula}} </a></td>
                                                        <td>{{ e.nombres_apellidos  }}</td>
                                                        <td>{{ e.grado_abreviado   }}</td>
                                                        <td><a class="enlace" href="{{ obtenerUbicacion(e.fecha_resolucion, e.numero) }}" target="_blank" style="font-weight: bold; color: brown;"> {{ obtenerTipo(e.tipo) }} </a> </td>
                                                        <td>
                                                            {{e.administracion}}
                                                            <br>
                                                            {{e.asunto}}
                                                        </td>
                                                    </tr>
                                                </tbody>
                                                
                                            </table>
                                        </div>

                                    </div>
                                </div>
                            
                            </mat-tab>
                            <mat-tab>
                                <ng-template mat-tab-label>
                                &nbsp;FILTRADA
                                </ng-template>
                                <br>
                                <div class="container">
                                    <div class="row">
                                        
                                        <div class="form-group col-md-5">
                                            <div class="form-group">
                                                <mat-form-field class="example-full-width" appearance="outline" style="width:100%">
                                                    <mat-label style="width:100%">Tipo de Resolución</mat-label>
                                                    <input type="text" matInput [formControl]="myControl" [matAutocomplete]="auto"
                                                         [(ngModel)]="tipo">
                                                    <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayFn" style="width:100%">
                                                        <mat-option *ngFor="let option of filteredOptions | async" [value]="option">
                                                            {{option.nombre}}
                                                        </mat-option>
                                                    </mat-autocomplete>
                                                    <mat-icon matSuffix>search</mat-icon>
                                                </mat-form-field>
                                            </div>
                    
                                        </div>
                                        <div class="form-group col-md-5">
                                            <mat-form-field class="example-form-field" appearance="outline">
                                                <mat-label>Rango del resuelto</mat-label>
                                                <mat-date-range-input
                                                  [formGroup]="fechaRango"
                                                  [rangePicker]="fechaRangoPicker"
                                                  [comparisonStart]="fechaRango.value.start"
                                                  [comparisonEnd]="fechaRango.value.end">
                                                  <input matStartDate placeholder="Start date" formControlName="start">
                                                  <input matEndDate placeholder="End date" formControlName="end">
                                                </mat-date-range-input>
                                                
                                                <mat-datepicker-toggle matSuffix [for]="fechaRangoPicker"></mat-datepicker-toggle>
                                                <mat-date-range-picker #fechaRangoPicker></mat-date-range-picker>
                                              </mat-form-field>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="text-left" style="padding-top: 5px;">
                                                <div class="example-button-container">
                                                    <button class="btn bg-success text-white" style="height: 50px;" (click)="FilConsultar()">
                                                        Listar datos
                                                    
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                        
                                    </div>
                                    <hr>
                                    <div class="row" *ngIf="dbResolucion">
                                        
                                        <div class="col-md-12">
                                            <table style="width: 100%;" class="zigzag" border="1" >
                                                <thead>
                                                    <tr>
                                                        <th colspan="7" class="text-center" style="padding: 15px;">FICHA DE DATOS RESOLUCIONES ( {{ resolucion }} ) </th>
                                                    </tr>
                                                    <tr>
                                                        <th style="width: 90px;"> FECHA</th>
                                                        <th style="width: 110px;"> CEDULA</th>
                                                        <th style="width: 110px;"> NOMBRE COMPLETO</th>
                                                        <th style="width: 110px;"> GRADO</th>
                                                        <th style="width: 110px;"> RESOLUCION</th>
                                                        <th>TIPO</th>
                                                        <th>ASUNTO</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr *ngFor="let e of lstResolucionesX">
                                                        <td>{{ e.fecha_resolucion }}</td>
                                                        <td> + <a class="enlace" (click)="obtenerCedula(e.cedula)" style="font-weight: bold; color: brown;"> {{e.cedula}} </a></td>
                                                        <td>{{ e.nombres_apellidos  }}</td>
                                                        <td>{{ e.grado_abreviado   }}</td>
                                                        <td>+ <a class="enlace" href="{{ obtenerUbicacion(e.fecha_resolucion, e.numero) }}" target="_blank" style="font-weight: bold; color: brown;"> {{e.numero}} </a> </td>
                                                        <td>{{ obtenerTipo(e.tipo) }}</td>
                                                        <td>
                                                            {{e.administracion}}
                                                            <br>
                                                            {{e.asunto}}
                                                        </td>
                                                    </tr>
                                                </tbody>
                                                
                                            </table>
                                        </div>

                                    </div>
                                </div>
                            
                            </mat-tab>
                            <mat-tab>
                                <ng-template mat-tab-label>
                                &nbsp;EXPANDIDA
                                </ng-template>
                            
                            </mat-tab>
                        </mat-tab-group>
    
    
                    </div>


                </div>

                <br><br>
                <br>
              </div>
          </div>
      </div>

  </div>
  <!-- Fin de Tarjeta Padre -->
</div>