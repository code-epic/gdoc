<div class="header bg-pastel-gradient pb-8 pt-5 pt-md-8">
    <div class="container-fluid">
        <p></p>
    </div>
</div>

<div class="container-fluid mt--9">
    
    <div class="row">

        <div class="col-xl-12 col-md-12 col-lg-12">
            <ngx-ui-loader [loaderId]="'loader-aceptar'"></ngx-ui-loader>
            <div class="card shadow">
                <div class="card-header bg-transparent">
                    <div class="row ">
                        <div class="col-md-11">
                            <h6 class="text-uppercase text-muted ls-1 mb-1">Reportes</h6>
                            <h2 class="mb-0">REPORTE HISTORICO </h2>
                        </div>
                        <div class="col-md-1">
                            <div class="media align-items-center">
                                <div class="example-button-row">
                                    <button mat-icon-button title="Volver Atrás" onclick="history.back()">
                                        <mat-icon>arrow_back</mat-icon>
                                    </button>
                                </div>
                            </div>
                        </div>


                    </div>
                </div>
                <div class="card-body">

                    <div class="form-row">
                        <div class="form-group col-md-12">
                            <table summary="" class="table table-bordered table-hover">

                                <thead>
                                    <tr>
                                        <th data-priority="1">Número de Control</th>
                                        <th data-priority="2">Número de Origen</th>
                                        <th data-priority="3">Fecha de Origen</th>
                                        <th data-priority="4">Fecha de Recepción</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>{{Doc.ncontrol | uppercase}}</td>
                                        <td>{{Doc.norigen | uppercase}}</td>
                                        <td>{{Doc.forigen}}</td>
                                        <td>{{Doc.fcreacion}}</td>
                                    </tr>
                                </tbody>
                            </table>
                            <br>
                            <table summary="" class="table table-bordered table-hover">

                                <thead>
                                    <tr>
                                        <th data-priority="1">Tipo de Documento</th>
                                        <th data-priority="2">Remitente</th>
                                        <th data-priority="3">Unidad o Dependencia</th>
                                        <th data-priority="4">Gran Comando</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>{{Doc.tipo | uppercase}}</td>
                                        <td>{{Doc.remitente | uppercase}}</td>
                                        <td>{{Doc.unidad | uppercase}}</td>
                                        <td>{{Doc.comando | uppercase}}</td>
                                    </tr>
                                </tbody>
                            </table>
                            <br>
                        </div>


                        <table summary="" class="table table-bordered table-hover">
                            <thead>
                                <tr>
                                    <th data-priority="1">Contenido del oficio</th>
                                </tr>
                            </thead>
                        </table>
                        <div class="form-group  col-md-12 text-justify" [innerHTML]="Doc.contenido"
                            style="font-size: small; padding: 15px; border: 1px solid #ccc">
                        </div>

                        <table summary="" class="table table-bordered table-hover" *ngIf="Doc.instrucciones!=''">
                            <thead>
                                <tr>
                                    <th data-priority="1">Instrucciones</th>
                                </tr>
                            </thead>
                        </table>
                        <div *ngIf="Doc.instrucciones!=''" class="form-group  col-md-12 text-justify"
                            [innerHTML]="Doc.instrucciones" style="padding: 15px; border: 1px solid #ccc">
                        </div>

                        <table summary="" class="table table-bordered table-hover" *ngIf="rcuenta">
                            <thead>
                                <tr>
                                    <th data-priority="1">Contenido de la cuenta, Número: {{nCuenta}}</th>
                                </tr>
                            </thead>
                        </table>
                        <div *ngIf="rcuenta" class="form-group  col-md-12 text-justify" [innerHTML]="resumencuenta"
                            style="padding: 15px; border: 1px solid #ccc">
                        </div>

                        <br>


                        <div class="form-group  col-md-12 text-justify" *ngIf="rcuenta">
                            <table style="width: 100%;" class="table table-bordered table-hover">
                                <thead>
                                    <tr>
                                        <th>NUM.</th>
                                        <th>{{sCedula}}</th>
                                        <th>{{sNombre}}</th>
                                        <th>{{sGrado}}</th>
                                        <th>{{ sAccion }}</th>
                                    </tr>

                                </thead>
                                <tbody>
                                    <tr *ngFor="let e of lstSubDoc; let i=index">
                                        <th>{{i+1}}</th>
                                        <th>{{e.cedula | uppercase }}</th>
                                        <th>{{e.nmilitar | uppercase }}</th>
                                        <th>{{e.cargo | uppercase }}</th>
                                        <th>{{ getDetalle(e.detalle) }}</th>
                                    </tr>

                                </tbody>

                            </table>


                        </div>


                        <table summary="" class="table table-bordered table-hover" *ngIf="btraza">
                            <thead>
                                <tr>
                                    <th data-priority="1" colspan="5">Historial de Acciones</th>
                                </tr>
                                <tr>
                                    <th data-priority="1">Fecha</th>
                                    <th data-priority="1">Departamento</th>
                                    <th data-priority="1">Estado</th>
                                    <th data-priority="1">Observacion</th>
                                    <th data-priority="1">Responsable</th>
                                </tr>
                            </thead>
                            <tbody>

                                <tr *ngFor="let e of lstTraza">
                                    <td>{{e.fecha | date : "dd/MM/yyyy hh:mm:ss" }}</td>
                                    <td>{{ getDepartamento(e.nombre_estado) }}</td>
                                    <td>{{e.nombre_estatus | uppercase }}</td>
                                    <td>{{e.observacion | uppercase }}</td>
                                    <td>{{e.descripcion | uppercase }}</td>
                                </tr>
                            </tbody>
                        </table>

                        <div *ngIf="btraza" class="form-group  col-md-12 text-justify"
                            style="font-size: small; padding: 7px; border: 0px solid #ccc">
                        </div>

                        <table summary="" class="table table-bordered table-hover">
                            <thead>
                                <tr>
                                    <th data-priority="1" colspan="2">Firma de Seguimiento</th>
                                    <th data-priority="3" style="width:256px">VALIDADOR QR</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <th>UBICACIÓN ACTUAL EXPEDIENTE: </th>
                                    <td>{{ nexpediente }}</td>
                                    <td rowspan="4">
                                        <img [src]="totpQrCodeUrl" alt="Código QR" class="img-fluid">
                                    </td>
                                </tr>
                                <tr>
                                    <th>CREADO POR</th>
                                    <td>{{Doc.creador | uppercase }}</td>
                                </tr>
                                <tr>
                                    <th>FECHA DE CREACIÓN</th>
                                    <td>{{Doc.fcreacion | date : "dd/MM/yyyy hh:mm:ss" }}</td>
                                </tr>
                                 <tr>
                                    <th>FECHA DE IMPRESION</th>
                                    <td>{{ fecha | date:"dd/MM/yyyy hh:mm:ss a" }}</td>
                                </tr>
                            </tbody>
                        </table>

                    </div>

                    <br>
                    <br>
                    <br>


                </div>
            </div>
        </div>
    </div>
</div>

<br>
<br>
<br>
<br>