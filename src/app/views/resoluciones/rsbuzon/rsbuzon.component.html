<ngx-ui-loader [loaderId]="'loader-buscar'"></ngx-ui-loader>
<div class="header bg-gradient-success pb-8 pt-4 pt-md-8">
    <div class="container-fluid">
        <p></p>
    </div>
</div>
<div class="container-fluid mt--9">
    <div class="row">
        <div class="col-xl-12 col-md-12 col-lg-12">


            <div class="card shadow">

                <div class="card-header bg-transparent">
                    <div class="row align-items-center">
                        <div class="col-md-10">
                            <h6 class="text-uppercase text-muted ls-1 mb-1">Buzón</h6>
                            <h2 class="mb-0">Resoluciones</h2>
                        </div>
                        <div class="col-md-1">
                            <div class="media align-items-center">
                                <div class="example-button-row">
                                    <button mat-icon-button title="Volver Atrás" onclick="history.back()">
                                        <mat-icon>arrow_back</mat-icon>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-1">
                            <ul class="navbar-nav align-items-right d-none d-md-flex">
                                <li class="nav-item" ngbDropdown placement="bottom-right">
                                    <a class="nav-link pr-0" role="button" ngbDropdownToggle>
                                        <div class="media align-items-center">
                                            <div class="example-button-row">
                                                <button mat-icon-button aria-label="">
                                                    <mat-icon>more_vert</mat-icon>
                                                </button>
                                            </div>
                                        </div>
                                    </a>
                                    <div class="dropdown-menu-arrow dropdown-menu-right" ngbDropdownMenu>
                                        <a routerLinkActive="active" [routerLink]="['/rsentradas']"
                                            class="dropdown-item">
                                            <i class="fa fa-plus"></i>
                                            <span>Nueva Entrada</span>
                                        </a>
                                    </div>
                                </li>
                            </ul>
                        </div>

                    </div>
                </div>

                <div class="card-body" style="margin: 0; padding: 0px;">


                    <mat-sidenav-container class="example-container">
                        <mat-sidenav #sidenav mode="side" [opened]="isShowing" position="end">
                            <div class="row">
                                <div class="col-xl-12 col-md-12 col-lg-12">
                                    <app-recibidos-fields-nav [formSidenav]="formSidenav"
                                        (closeEvent)="closeEvent($event)" [title]="formSidenav.get('obse')?.value">

                                    </app-recibidos-fields-nav>
                                </div>
                            </div>
                        </mat-sidenav>

                        <mat-sidenav-content>
                            <div class="row">
                                <div class="col-xl-12 col-md-12 col-lg-12">
                                    <div class="card shadow">


                                        <mat-tab-group mat-stretch-tabs class="example-stretched-tabs"
                                            [selectedIndex]="selected.value"
                                            (selectedIndexChange)="selected.setValue($event);seleccionNavegacion($event)"
                                            dynamicHeight>

                                            <mat-tab>
                                                <ng-template mat-tab-label>
                                                    &nbsp;RECIBIDOS
                                                </ng-template>
                                                <ngx-ui-loader [loaderId]="'ldbuzon'"></ngx-ui-loader>

                                                <div class="example-large-box mat-elevation-z4">
                                                    <mat-selection-list style="padding: 15px; width: 100%;">
                                                        <mat-list
                                                            style="border-bottom: 1px rgba(224, 223, 223, 0.945) solid;">
                                                            <div class="row">
                                                                <div class="col-md-6">
                                                                    <section>
                                                                        <button mat-flat-button (click)="principal()">
                                                                            <font class="auto-title"><i
                                                                                    class="fa fa-home"
                                                                                    style="font-size: 18px;">
                                                                                </i>&nbsp;&nbsp;PRINCIPAL
                                                                            </font>
                                                                        </button>
                                                                        <font class="auto-marca" *ngIf="details">
                                                                            &nbsp;&nbsp;>&nbsp;&nbsp;</font>
                                                                        <button mat-flat-button *ngIf="details">
                                                                            <font class="auto-title"
                                                                                style="font-size:14px;">{{
                                                                                sNavegacion }}</font>
                                                                        </button>


                                                                    </section>
                                                                </div>
                                                                <div class="col-md-6"></div>
                                                            </div>
                                                        </mat-list>
                                                        <mat-list
                                                            style="border-bottom: 1px rgba(224, 223, 223, 0.945) solid; height: 55px;"
                                                            *ngIf="blNavegacion">
                                                            <div class="row" style="margin-top:10px">
                                                                <div class="col-md-1 texto-lista text-center">
                                                                    &nbsp;&nbsp;
                                                                </div>
                                                                <div class="col-md-1"></div>
                                                                <div class="col-md-2 texto-lista">
                                                                    CODIGO

                                                                </div>
                                                                <div class="col-md-2 texto-lista">
                                                                    FECHA
                                                                </div>

                                                                <div class="col-md-5 texto-lista">
                                                                    DEPENDENCIA
                                                                </div>
                                                                <div class="col-md-1 text-right texto-lista">
                                                                    ACC.
                                                                </div>

                                                            </div>

                                                        </mat-list>
                                                    </mat-selection-list>


                                                    <mat-selection-list *ngIf="blNavegacion"
                                                        style="margin-top: -10px;padding: 15px; width: 100%;">
                                                        <mat-list *ngFor="let e of bzRecibidoResumen; let i=index "
                                                            style="border-bottom: 1px rgba(224, 223, 223, 0.945) solid;">
                                                            <div class="row">
                                                                <div class="col-md-1">
                                                                    &nbsp;&nbsp;<font style="font-weight: bold;"> {{ i +
                                                                        1}} </font>
                                                                </div>
                                                                <div class="col-md-1">
                                                                    <button mat-icon-button aria-label="Visibilidad"
                                                                        class="text-grey"
                                                                        (click)="open(observacion, e.idd, i);"
                                                                        id="procesados">
                                                                        <mat-icon>task_alt</mat-icon>
                                                                    </button>
                                                                </div>
                                                                <div class="col-md-2 texto-lista">
                                                                    <a routerLinkActive="active"
                                                                        [routerLink]="['/constancia', constancia( e.idd )]">{{getDetalle(e)}}
                                                                        &nbsp;<font color="{{e.color}}">{{ e.simbolo
                                                                            }}
                                                                        </font></a>

                                                                </div>
                                                                <div class="col-md-2 texto-lista">
                                                                    {{ e.fcre | date:"dd/MM/yyyy" }} | {{ e.nori }}
                                                                </div>

                                                                <div class="col-md-5 texto-detalle"
                                                                    #tooltip="matTooltip"
                                                                    matTooltip="{{ e.cont | uppercase}}">

                                                                    {{ e.udep | uppercase }}
                                                                </div>
                                                                <div class="col-md-1 text-right">

                                                                    <a [href]="dwUrl(e.numc, e.anom)" target="_top"
                                                                        rel="noopener noreferrer"
                                                                        style="color:darkgrey;font-size: 18px;font-weight: normal;">
                                                                        <img src="./assets/img/theme/pdf2.jpeg"
                                                                            alt="Descargar archivo"
                                                                            style="width: 20px;margin-top: 4px;" />
                                                                    </a>
                                                                </div>

                                                            </div>


                                                        </mat-list>
                                                    </mat-selection-list>
                                                    <!-- (click)="toggleSidenav(e)" -->
                                                    <div class="row" *ngIf="!blNavegacion" style="padding: 20px;">
                                                        <div class="col-md-2 cardround"
                                                            *ngFor="let e of lstCarpetasRecibido">
                                                            <a routerLinkActive="active"
                                                                (dblclick)="listarDocumentos(e)">
                                                                <div class="text-center botones">
                                                                    <br>
                                                                    <h2 class="text-center"
                                                                        style="color: rgb(160, 184, 230);">
                                                                        <i class="fa fa-folder" style="font-size: 54px;"
                                                                            mat-raised-button matBadge="{{e.cant}}"
                                                                            [matBadgeHidden]="hidden"></i>
                                                                    </h2>
                                                                    <p style="font-weight: bold;font-family: Roboto;">
                                                                        {{
                                                                        e.nomb }}</p>


                                                                </div>
                                                            </a>
                                                        </div>
                                                    </div>

                                                    <br>

                                                </div>
                                            </mat-tab>
                                            <mat-tab>
                                                <ng-template mat-tab-label>
                                                    &nbsp;CLASIFICAR
                                                </ng-template>
                                                <ngx-ui-loader [loaderId]="'ldclasificar'"></ngx-ui-loader>
                                                <div class="example-large-box mat-elevation-z4">

                                                    <mat-selection-list
                                                        style="padding: 20px; width: 100%; margin-bottom: -30px;"
                                                        #documento>
                                                        <mat-list style="border-bottom: 1px #e0dfdff1 solid;">
                                                            <div class="row">
                                                                <div class="col-md-1">
                                                                    <mat-checkbox [checked]="allComplete"
                                                                        color="primary" [indeterminate]="someComplete()"
                                                                        (change)="setAll($event.checked)"
                                                                        class="example-margin texto-lista" id="check">
                                                                    </mat-checkbox>
                                                                </div>
                                                                <div class="col-md-2">
                                                                    <button mat-icon-button aria-label="Example "
                                                                        (click)="open(content, 0, 0)" id="clasificar">
                                                                        <mat-icon>folder_copy</mat-icon>
                                                                    </button>
                                                                </div>

                                                                <div class="col-md-3 texto-lista">
                                                                    FECHA / NUMERO
                                                                </div>
                                                                <div class="col-md-5 texto-lista">
                                                                    ACCION TOMADA EN SECRETARIA
                                                                </div>

                                                                <div class="col-md-1 text-right texto-lista">
                                                                    ACC
                                                                </div>
                                                            </div>

                                                        </mat-list>
                                                    </mat-selection-list>

                                                    <mat-selection-list
                                                        style="padding: 20px; margin-top: -10px; width: 100%;"
                                                        #lstDocumentos>
                                                        <mat-list *ngFor="let e of bzClasificar; let i=index "
                                                            style="border-bottom: 1px #e0dfdff1 solid;">
                                                            <div class="row">
                                                                <div class="col-md-1">
                                                                    <mat-checkbox class="example-margin texto-lista"
                                                                        [(ngModel)]="e.completed" color="warn"
                                                                        (ngModelChange)="updateAllComplete()">
                                                                    </mat-checkbox>
                                                                </div>
                                                                <div class="col-md-2 texto-lista">
                                                                    <a routerLinkActive="active"
                                                                        [routerLink]="['/constancia', constancia( e.idd )]">{{
                                                                        getDetalle(e) }}
                                                                        &nbsp;<font color="{{e.color}}">{{ e.simbolo
                                                                            }}
                                                                        </font></a>

                                                                </div>
                                                                <div class="col-md-3 texto-lista">
                                                                    {{ e.fcre | date:"dd-MM-yyyy" }} | {{ e.nori |
                                                                    uppercase
                                                                    }}
                                                                </div>

                                                                <div class="col-md-5 texto-detalle">

                                                                    {{ getEstatusMinisterial(e) }}
                                                                </div>
                                                                <div class="col-md-1 text-right">

                                                                    <a [href]="dwUrl(e.numc, e.anom)" target="_top"
                                                                        rel="noopener noreferrer"
                                                                        style="color:darkgrey;font-size: 18px;font-weight: normal;">
                                                                        <img src="./assets/img/theme/pdf2.jpeg"
                                                                            alt="Descargar archivo"
                                                                            style="width: 20px;margin-top: 4px;" />
                                                                    </a>
                                                                    <!-- <button mat-icon-button aria-label="Privado">
                                                <mat-icon class="text-green"
                                                    style="font-size: 27px;margin-top: 2px;"
                                                    (click)="MoverForm(e)">preview
                                                </mat-icon>
                                            </button> -->
                                                                </div>

                                                            </div>
                                                        </mat-list>
                                                    </mat-selection-list>

                                                    <br>

                                                    <mat-paginator [length]="longitud" (page)="pageChangeEvent($event)"
                                                        [pageSize]="pageSize" [pageSizeOptions]="pageSizeOptions"
                                                        (page)="pageEvent = $event" aria-label="Seleccionar">
                                                    </mat-paginator>
                                                </div>
                                            </mat-tab>


                                            <mat-tab>
                                                <ng-template mat-tab-label>
                                                    &nbsp;EN PROCESO
                                                </ng-template>
                                                <ngx-ui-loader [loaderId]="'ldcarpetas'"></ngx-ui-loader>

                                                <div class="example-large-box " style="margin-top: -22px;">

                                                    <div class="row" *ngIf="blistado" style="padding-right: 10px;">
                                                        <div class="col-md-12">
                                                            <mat-selection-list style="width: 100%;">

                                                                <mat-list
                                                                    style="margin-top: 5px; border-bottom: 1px rgba(224, 223, 223, 0.945) solid; height: 50px;">
                                                                    <div class="row"
                                                                        style="padding-left: 10px;padding-right: 5px;">
                                                                        <div class="col-md-1 texto-lista text-center">
                                                                            NÚM</div>
                                                                        <div class="col-md-1 texto-lista text-center">
                                                                            <mat-checkbox style="margin-top:-15px"
                                                                                [checked]="allCompletex" color="primary"
                                                                                [indeterminate]="someCompletex()"
                                                                                (change)="setAllx($event.checked)"
                                                                                class="example-margin texto-lista"
                                                                                id="checkx">
                                                                            </mat-checkbox>
                                                                        </div>
                                                                        <div class="col-md-2">
                                                                            <button mat-icon-button
                                                                                aria-label="Example "
                                                                                (click)="openResolucion(contentResolucion)"
                                                                                id="clasificar">
                                                                                <mat-icon>folder_copy</mat-icon>
                                                                            </button>

                                                                        </div>


                                                                        <div class="col-md-4 texto-lista">
                                                                            NOMBRES Y APELLIDOS
                                                                        </div>
                                                                        <div class="col-md-3 texto-lista">
                                                                            DIGITAL
                                                                        </div>
                                                                        <div class="col-md-1 text-right texto-lista">
                                                                            ACCION
                                                                        </div>

                                                                    </div>

                                                                </mat-list>
                                                                <mat-list *ngFor="let e of lstCedula; let i=index "
                                                                    style="border-bottom: 1px rgba(224, 223, 223, 0.945) solid; height: 50px;">
                                                                    <div class="row"
                                                                        style="padding-left: 5px;padding-right: 5px;">
                                                                        <div class="col-md-1 texto-lista text-center">
                                                                            &nbsp;&nbsp;<font
                                                                                style="font-weight: bold;"> {{ i + 1}}
                                                                            </font>
                                                                        </div>
                                                                        <div class="col-md-1 texto-lista text-center">
                                                                            <mat-checkbox style="margin-top:-15px"
                                                                                class="example-margin texto-lista"
                                                                                [class.mat-checkbox-disabled]="!getDetalleEnabled(e.obse)"
                                                                                [(ngModel)]="e.completed" color="warn"
                                                                                (ngModelChange)="updateAllCompletex()">
                                                                            </mat-checkbox>
                                                                        </div>
                                                                        <div class="col-md-2 texto-sub-lista">
                                                                            {{e.cedula}}


                                                                        </div>


                                                                        <div class="col-md-4 texto-sub-lista">
                                                                            {{ e.nombres_apellidos }}
                                                                        </div>
                                                                        <div class="col-md-3 texto-sub-lista">
                                                                            {{ e.digital }}
                                                                        </div>
                                                                        <div
                                                                            class="col-md-1 text-right texto-sub-lista"
                                                                            #tooltip="matTooltip"
                                                                            matTooltip="{{ e.obse==''?'PROCESAR':getDetalleX(e.obse) }}"
                                                                            >
                                                                            {{e.obse==''?'PR':e.obse }}
                                                                        </div>

                                                                    </div>

                                                                </mat-list>
                                                            </mat-selection-list>


                                                            <br>
                                                            <br>


                                                        </div>


                                                        <div class="col-md-12">
                                                            <div
                                                                style="padding-right: 5px;padding-left: 10px; padding-top: 15px;">
                                                                <textarea class="form-control" cols="30" rows="2"
                                                                    [ngModelOptions]="{standalone: true}"
                                                                    [(ngModel)]="xasunto"
                                                                    placeholder="Introduzca el asunto..."
                                                                    style="width: 100%"
                                                                    required="required">{{xasunto}}</textarea>
                                                            </div>
                                                        </div>

                                                        <br><br>

                                                        <div class="col-md-12">
                                                            <div
                                                                style="padding-right: 5x;padding-left: 10px;padding-top: 15px;">


                                                                <textarea class="form-control" cols="30" rows="2"
                                                                    [ngModelOptions]="{standalone: true}"
                                                                    [(ngModel)]="observaciones"
                                                                    placeholder="Introduzca las observaciones..."
                                                                    style="width: 100%">{{observaciones}}</textarea>
                                                            </div>
                                                        </div>

                                                        <div class="col-md-9"
                                                            style="padding-top: 20px;padding-left:30px; ">
                                                            <button class="btn bg-success text-white "
                                                                (click)="closeEvent(false)">
                                                                &nbsp;&nbsp;Aceptar cambios
                                                            </button>
                                                            &nbsp;&nbsp;
                                                            <button class="btn bg-gradient-warning text-white "
                                                                (click)="closeEvent(false)">
                                                                &nbsp;&nbsp;Anular cuenta
                                                            </button>

                                                        </div>

                                                        <div class="col-md-3 text-right" style="padding-top: 20px;">
                                                            <button class="btn bg-warning text-white "
                                                                (click)="closeEvent(false)">
                                                                &nbsp;&nbsp;Ocultar
                                                            </button>

                                                        </div>
                                                    </div>

                                                    <div class="row" *ngIf="!blistado"
                                                        style="border-bottom:solid 1px;border-color:#f1f0f0;color:#CCC;margin-bottom: 2px;height: 90px;">

                                                        <div class="col-md-6"></div>
                                                        <div class="col-md-6 text-right"
                                                            style="margin-top: 27px; margin-bottom: -10px; padding-left:40px ;">
                                                            <mat-form-field appearance="outline"
                                                                style="border:0px; margin:0px;padding-right:5px;margin-bottom: -19px;">

                                                                <input style="color: #5582b5;" matInput
                                                                    placeholder="Buscar n&uacute;mero de carpeta"
                                                                    (keypress)="consultarCarpeta($event)"
                                                                    [(ngModel)]="codCarpeta" value="{{codCarpeta}}">
                                                                <mat-icon matSuffix type="button">search</mat-icon>
                                                            </mat-form-field>

                                                        </div>

                                                    </div>


                                                    <div class="row" *ngIf="!blistado" style="margin:0px;padding:5px">

                                                        <div class="col-md-12">

                                                            <div class="row">
                                                                <div class="col-md-2 cardround"
                                                                    *ngFor="let e of lstCarpetas">
                                                                    <a routerLinkActive="active">
                                                                        <div class="text-center botones">
                                                                            <br>
                                                                            <!-- (contextmenu)="onRightClick($event)" -->
                                                                            <h2 class="text-center  "
                                                                                [style.color]="getColor(e.componente)"
                                                                                (click)="toggleSidenav(e)">
                                                                                <i class="fa fa-folder"
                                                                                    style="font-size: 62px;"></i>
                                                                            </h2>
                                                                            <p
                                                                                style="font-weight: bold;font-family: Roboto;">
                                                                                {{ e.llav }}</p>


                                                                        </div>
                                                                    </a>
                                                                </div>



                                                            </div>


                                                        </div>


                                                    </div>

                                                    <br>
                                                    <br>
                                                    <br>
                                                    <br>
                                                    <br>
                                                    <br>
                                                    <br>
                                                    <br>
                                                    <br>
                                                    <br>
                                                    <br>
                                                    <br>
                                                    <br>
                                                    <br>
                                                    <br>
                                                    <br>
                                                    <br>
                                                    <br>
                                                </div>

                                            </mat-tab>


                                            <!-- <mat-tab>
                                                    <ng-template mat-tab-label>
                                                        &nbsp;VISTA
                                                    </ng-template>

                                                    <div class="container">

                                                    </div>


                                                </mat-tab> -->
                                        </mat-tab-group>

                                        <br><br><br><br><br>
                                    </div>
                                </div>
                            </div>
                        </mat-sidenav-content>
                    </mat-sidenav-container>


                    <br><br>

                </div>

            </div>
        </div>
    </div>
    <!-- Fin de Tarjeta Padre -->
</div>




<!-- Clasificacion de Documentos -->
<ng-template #content let-modal>
    <div class="modal-header header bg-gradient-success">
        <h1 style="margin-bottom: -5px; padding-top: -5px;" class="modal-title text-white" id="modal-basic-title">
            Asignar carpeta</h1>
    </div>
    <div class="modal-body modal-avanzado">

        <div class="form-group col-md-12">
            <select class="form-control" [ngModelOptions]="{standalone: true}" [(ngModel)]="xcomponente"
                value="{{xcomponente}}">
                <option value="0">SELECCIONAR COMPONENTE</option>
                <option *ngFor="let e of Componentes;" [value]="e.cod_componente">{{
                    e.nombre_componente }}
                </option>
            </select>
        </div>

        <div class="col-md-12">


            <mat-form-field appearance="outline">
                <mat-label>N&uacute;mero de la carpeta</mat-label>
                <input matInput placeholder="N&uacute;mero de la carpeta" [ngModelOptions]="{standalone: true}"
                    [(ngModel)]="numCarpeta" id="numCarpeta">
                <mat-icon matSuffix>folder</mat-icon>
            </mat-form-field>
        </div>

        <div class="form-group col-md-12">
            <select class="form-control" [ngModelOptions]="{standalone: true}" [(ngModel)]="xtipo" value="{{xtipo}}">
                <option value="0">RESOLUCION</option>
                <option value="1">ORDEN GENERAL</option>
            </select>
        </div>

        <div class="form-group col-md-12">
            <select class="form-control" [ngModelOptions]="{standalone: true}" [(ngModel)]="xclasificacion"
                value="{{xclasificacion}}">
                <option value="0">CLASIFICACION DE DOCUMENTO</option>
                <option *ngFor="let e of TipoResoluciones;" [value]="e.codigo">{{ e.nombre }}
                </option>
            </select>
        </div>

        <div class="form-group col-md-12">
            <select class="form-control" [ngModelOptions]="{standalone: true}" [(ngModel)]="xprioridad"
                value="{{xprioridad}}">
                <option value="0">PRIORIDAD</option>
                <option value="1">NORMAL</option>
                <option value="2">MEDIO</option>
                <option value="3">URGENTE</option>

            </select>
        </div>

        <div class="col-md-12">


            <mat-form-field appearance="outline">
                <mat-label>Observaciones</mat-label>
                <input matInput placeholder="Observaciones" [ngModelOptions]="{standalone: true}"
                    [(ngModel)]="xobservacion">

            </mat-form-field>
        </div>
        <div class="col-md-12 text-right" style="padding-right: 30px;">
            <button class="btn bg-gradient-success text-white " (click)="crearCarpeta();modal.close('Save')"
                id="btncls">
                <span class="fa fa-share"></span>&nbsp;&nbsp;Asignar
            </button>
            <button class="btn btn-warning" aria-label="Close" (click)="modal.dismiss('Close')">
                <span class="fa fa-times"></span>&nbsp;&nbsp;Cancelar
            </button>
        </div>
    </div>
</ng-template>

<ng-template #observacion let-modal>
    <div class="modal-header header bg-gradient-info">
        <h4 class="modal-title text-white" id="modal-basic-title">Acciones Generales {{numControl}}</h4>
    </div>
    <div class="modal-body">
        <div class="form-group col-md-12">
            <label for="txtobservacion">Observaciones</label>
            <textarea class="form-control" cols="30" rows="3" [ngModelOptions]="{standalone: true}"
                [(ngModel)]="Observacion"></textarea>
        </div>
        <div class="form-group  col-md-12">
            <label>Acción</label>
            <select class="form-control" [ngModelOptions]="{standalone: true}" [(ngModel)]="AccionTexto"
                (change)="selAccion()" id="slcaceptar">
                <option *ngFor="let e of lstAcciones" value="{{e.valor}}">{{ e.texto }}</option>
            </select>

        </div>
        <div class="form-group  col-md-12" *ngIf="clasificacion">
            <label>Area</label>
            <select class="form-control" [ngModelOptions]="{standalone: true}" [(ngModel)]="cmbDestino">
                <option value="S">SELECCIONE</option>
                <option *ngFor="let x of lstEstados" value="{{ x.id }}">{{ x.nomb }}</option>
            </select>
        </div>

        <div class="form-group  col-md-12" *ngIf="vplazo">
            <label for="tmsCreacion">Plazo / Alerta</label>
            <div class="form-group" style="width:100%">
                <div class="input-group" style="width:100%">
                    <input class="form-control" placeholder="AAAA-MM-DD" [ngModelOptions]="{standalone: true}"
                        [(ngModel)]="extender_plazo" ngbDatepicker #fd="ngbDatepicker" [placement]="placement"
                        [positionTarget]="buttonEl" readonly>
                    <div class="input-group-append">
                        <button #buttonEl class="btn calendario" (click)="fd.toggle()" type="button"
                            id="btnplazo"></button>
                    </div>
                </div>
            </div>

        </div>
    </div>
    <div class="modal-footer">
        <button class="btn bg-gradient-info text-white " (click)="insertarObservacion();modal.close('Save')"
            id="btnaceptar">
            <span class="fa fa-check"></span>&nbsp;&nbsp;Aceptar
        </button>
        <button class="btn btn-warning" aria-label="Close" (click)="modal.dismiss('Close')">
            <span class="fa fa-times"></span>&nbsp;&nbsp;Cancelar
        </button>
    </div>
</ng-template>





<ng-template #z let-modal>
    <div class="modal-header header bg-gradient-info">
        <h1 style="margin-bottom: -5px; padding-top: -5px;" class="modal-title text-white" id="modal-basic-title">
            Asignar resolución a documentos de entrada</h1>
    </div>
    <div class="modal-body modal-avanzado">

        <div class="form-row">
            <div class="col-md-5">
                <mat-form-field class="example-full-width" appearance="outline" style="width:100%">
                    <mat-label>Formato del Documento</mat-label>
                    <mat-select placeholder="Documento" [ngModelOptions]="{standalone: true}"
                        [(ngModel)]="IResolucion.documento">
                        <mat-option value="0">RESOLUCION</mat-option>
                        <mat-option value="1">ORDEN GENERAL</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>

            <div class="col-md-3">
                <mat-form-field class="example-full-width" appearance="outline" style="width:100%">
                    <mat-label style="width:100%">Número de Resolución</mat-label>
                    <input type="text" matInput [(ngModel)]="IResolucion.numero" value="{{IResolucion.numero}}">
                </mat-form-field>
            </div>
            <div class="col-md-4">
                <mat-form-field class="example-full-width" appearance="outline" style="width:100%">
                    <mat-label>Fecha (*)</mat-label>
                    <input matInput placeholder="Fecha de resolucion" [ngModelOptions]="{standalone: true}"
                        ngbDatepicker #fo="ngbDatepicker" [placement]="placement" [positionTarget]="buttonEl"
                        [(ngModel)]="fecha_resolucion">
                    <mat-icon matSuffix #buttonEl (click)="fo.toggle()" type="button" id="fori">edit_calendar</mat-icon>


                </mat-form-field>
            </div>
        </div>




        <div class="form-row">

            <div class="form-group col-md-{{maxCol}}">
                <mat-form-field class="example-full-width" appearance="outline" style="width:100%">
                    <mat-label style="width:100%">Tipo de Resolución</mat-label>
                    <input type="text" matInput [formControl]="myControl" [matAutocomplete]="auto"
                        (blur)="seleccionTipo()" [(ngModel)]="tipo">
                    <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayFn" style="width:100%">
                        <mat-option *ngFor="let option of filteredOptions | async" [value]="option">
                            {{option.nombre}}
                        </mat-option>
                    </mat-autocomplete>
                    <mat-icon matSuffix>search</mat-icon>
                </mat-form-field>
            </div>

            <div class="col-md-6" *ngIf="blComision">
                <mat-form-field class="example-full-width" appearance="outline" style="width:100%">
                    <mat-label>Administracion publica</mat-label>
                    <mat-select placeholder="Administracion publica" [ngModelOptions]="{standalone: true}"
                        [(ngModel)]="IResolucion.solicitud">
                        <mat-option *ngFor="let e of lstCausa;" [value]="e.codigo">{{e.nombre}}</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>

            <div class="col-md-6" *ngIf="blCategoria">
                <mat-form-field class="example-full-width" appearance="outline" style="width:100%">
                    <mat-label>Categoria</mat-label>
                    <mat-select placeholder="Categoria" [ngModelOptions]="{standalone: true}"
                        [(ngModel)]="IDatosBasicos.categoria">
                        <mat-option *ngFor="let e of Categorias;"
                            [value]="e.cod_categoria">{{e.nombre_categoria}}</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
            <div class="col-md-6" *ngIf="blComponente">
                <mat-form-field class="example-full-width" appearance="outline" style="width:100%">
                    <mat-label>Componente</mat-label>
                    <mat-select placeholder="Componente" [ngModelOptions]="{standalone: true}"
                        [(ngModel)]="IDatosBasicos.componente">
                        <mat-option *ngFor="let e of Componentes;"
                            [value]="e.cod_componente">{{e.nombre_componente}}</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>

            <div class="col-md-{{maxAscenso}}" *ngIf='blAscenso'>
                <mat-form-field class="example-full-width" appearance="outline" style="width:100%">
                    <mat-label>Grado</mat-label>
                    <mat-select placeholder="Grado para el ascenso" [ngModelOptions]="{standalone: true}"
                        [(ngModel)]="cmbGrado" value="{{cmbGrado}}">
                        <mat-option *ngFor="let e of Grados" value="{{ e.cod_grado }}">{{e.nombre_corto }} -
                            {{e.nombres_grado }}</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
            <div class="col-md-4" *ngIf='blAscensof'>
                <mat-form-field class="example-full-width" appearance="outline" style="width:100%">
                    <mat-label>Fecha del Ascenso ( * )</mat-label>

                    <input matInput placeholder="Fecha del Ascenso" [ngModelOptions]="{standalone: true}" ngbDatepicker
                        #fox="ngbDatepicker" [placement]="placement" [positionTarget]="buttonEl"
                        [(ngModel)]="ultimo_ascenso">
                    <mat-icon matSuffix #buttonEl (click)="fox.toggle()" type="button"
                        id="forix">edit_calendar</mat-icon>

                </mat-form-field>
            </div>


            <div class="col-md-1" *ngIf='blReconocer'>
                <mat-form-field class="example-full-width" appearance="outline" style="width:100%">
                    <mat-label>A&ntilde;o</mat-label>
                    <input type="number" matInput [(ngModel)]="IResolucion.anio" value="{{IResolucion.anio}}">

                </mat-form-field>
            </div>
            <div class="col-md-1" *ngIf='blReconocer'>
                <mat-form-field class="example-full-width" appearance="outline" style="width:100%">
                    <mat-label>Mes</mat-label>
                    <input type="number" matInput [(ngModel)]="IResolucion.mes" value="{{IResolucion.mes}}">

                </mat-form-field>
            </div>
            <div class="col-md-1" *ngIf='blReconocer'>
                <mat-form-field class="example-full-width" appearance="outline" style="width:100%">
                    <mat-label>Dia</mat-label>
                    <input type="number" matInput [(ngModel)]="IResolucion.dia" value="{{IResolucion.dia}}">

                </mat-form-field>
            </div>
            <div class="col-md-4" *ngIf='blReconocer'>
                <mat-form-field class="example-full-width" appearance="outline" style="width:100%">
                    <mat-label>Fecha Ultimo Ascenso (*)</mat-label>
                    <input matInput placeholder="Fecha del Ascenso" [ngModelOptions]="{standalone: true}" ngbDatepicker
                        #fox="ngbDatepicker" [placement]="placement" [positionTarget]="buttonEl"
                        [(ngModel)]="ultimo_ascenso">
                    <mat-icon matSuffix #buttonEl (click)="fox.toggle()" type="button"
                        id="forix">edit_calendar</mat-icon>
                </mat-form-field>
            </div>

            <div class="col-md-6" *ngIf='false'>
                <mat-form-field class="example-full-width" appearance="outline" style="width:100%">
                    <mat-label>Nivel 1</mat-label>
                    <input matInput placeholder="Nivel 1" [ngModelOptions]="{standalone: true}"
                        [(ngModel)]="IResolucion.comando" value="{{IResolucion.comando}}" readonly>

                </mat-form-field>
            </div>


            <!-- NOMBREAMIENTO -->
            <div class="col-md-6" *ngIf="blNombramiento">
                <mat-form-field class="example-full-width" appearance="outline" style="width:100%">
                    <mat-label style="width:100%">Unidad</mat-label>

                    <input matInput placeholder="Seleccionar unidad" [ngModelOptions]="{standalone: true}"
                        [(ngModel)]="IResolucion.unidad_texto" value="{{IResolucion.unidad_texto}}" readonly>
                    <mat-icon matSuffix (click)="viewUnidad()">folder</mat-icon>

                </mat-form-field>
            </div>
            <div class="col-md-12" *ngIf="blNombramiento">
                <textarea rows="5" name="text" placeholder="Descripcion de la estructura"
                    style="width: 100%; border: 0px;" disabled="disabled"
                    readonly>{{ estructura_detalle | uppercase}}</textarea>
            </div>



            <!-- Corregir -->
            <div class="col-md-{{maxCorregir}}" *ngIf="blCorregir">
                <mat-form-field class="example-full-width" appearance="outline" style="width:100%">
                    <mat-label>Vincular Resoluci&oacute;n</mat-label>
                    <input matInput placeholder="Numero de resolucion" [ngModelOptions]="{standalone: true}"
                        [(ngModel)]="IResolucion.otro_resuelto" (blur)="vincular()">

                </mat-form-field>
            </div>
            <div class="col-md-{{maxCorregir}}" *ngIf="blCorregir">
                <mat-form-field class="example-full-width" appearance="outline" style="width:100%">
                    <mat-label>Fecha (*)</mat-label>
                    <input matInput [matDatepicker]="xpickerx" [(ngModel)]="fresolucion"
                        [ngModelOptions]="{standalone: true}" [ngModelOptions]="{standalone: true}" disabled="disabled">
                    <mat-datepicker-toggle matSuffix [for]="xpickerx"></mat-datepicker-toggle>
                    <mat-datepicker #xpickerx></mat-datepicker>
                </mat-form-field>


            </div>
            <div class="col-md-12" *ngIf="blCorregir">
                <mat-form-field class="example-full-width" appearance="outline" style="width:100%">
                    <mat-label>Asunto de la resolucion</mat-label>
                    <input matInput placeholder="Asunto de la resolucion" [ngModelOptions]="{standalone: true}"
                        [(ngModel)]="aresolucion" disabled="disabled">

                </mat-form-field>
            </div>

            <div class="col-md-{{maxExtender}}" *ngIf="blExtender">
                <mat-form-field class="example-full-width" appearance="outline" style="width:100%">
                    <mat-label>Fecha Inicio(*)</mat-label>
                    <input matInput [matDatepicker]="fipicker" [ngModelOptions]="{standalone: true}"
                        [(ngModel)]="comision_inicio">
                    <mat-datepicker-toggle matSuffix [for]="fipicker"></mat-datepicker-toggle>
                    <mat-datepicker #fipicker></mat-datepicker>
                </mat-form-field>
            </div>

            <div class="col-md-{{maxExtender}}" *ngIf="blExtender">
                <mat-form-field class="example-full-width" appearance="outline" style="width:100%">
                    <mat-label>Fecha Fin(*)</mat-label>
                    <input matInput [matDatepicker]="ffpicker" [ngModelOptions]="{standalone: true}"
                        [(ngModel)]="comision_fin">
                    <mat-datepicker-toggle matSuffix [for]="ffpicker"></mat-datepicker-toggle>
                    <mat-datepicker #ffpicker></mat-datepicker>
                </mat-form-field>
            </div>



        </div>
        <div class="form-row" *ngIf="blReserva">
            <div class="col-md-6">
                <mat-form-field class="example-full-width" appearance="outline" style="width:100%">
                    <mat-label>Causa</mat-label>
                    <mat-select placeholder="Tipo de Comision" [ngModelOptions]="{standalone: true}"
                        [(ngModel)]="IResolucion.solicitud" (selectionChange)="getMotivo()">
                        <mat-option *ngFor="let e of lstCausa" value="{{e.codigo}}">{{e.nombre}}</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>

            <div class="col-md-6">
                <mat-form-field class="example-full-width" appearance="outline" style="width:100%">
                    <mat-label>Motivo</mat-label>
                    <mat-select placeholder="Tipo de Comision" [ngModelOptions]="{standalone: true}"
                        [(ngModel)]="IResolucion.reserva" (selectionChange)="getDetalle()">
                        <mat-option *ngFor="let e of lstMotivo" value="{{e.codigo}}">{{e.nombre}}</mat-option>

                    </mat-select>
                </mat-form-field>
            </div>
        </div>

        <div class="form-row" *ngIf="blReservaAux">
            <div class="form-group col-md-12">
                <textarea rows="5" name="text" placeholder="Descripcion de la falta o delito"
                    [ngModelOptions]="{standalone: true}" [(ngModel)]="IResolucion.falta"
                    style="width: 100%; border: 0px;"></textarea>
            </div>
        </div>



        <div class="form-row" *ngIf="blComision">
            <div class="col-md-{{maxColComision}}">
                <mat-form-field class="example-full-width" appearance="outline" style="width:100%">
                    <mat-label>Fecha Inicio(*)</mat-label>
                    <input matInput placeholder="Fecha Inicio" [ngModelOptions]="{standalone: true}" ngbDatepicker
                        #foxx="ngbDatepicker" [placement]="placement" [positionTarget]="buttonEl"
                        [(ngModel)]="comision_inicio">
                    <mat-icon matSuffix #buttonEl (click)="foxx.toggle()" type="button"
                        id="forix">edit_calendar</mat-icon>
                </mat-form-field>
            </div>

            <div class="col-md-{{maxColComision}}">
                <mat-form-field class="example-full-width" appearance="outline" style="width:100%">
                    <mat-label>Fecha Fin(*)</mat-label>
                    <input matInput placeholder="Fecha Fin" [ngModelOptions]="{standalone: true}" ngbDatepicker
                        #foxxx="ngbDatepicker" [placement]="placement" [positionTarget]="buttonEl"
                        [(ngModel)]="comision_fin">
                    <mat-icon matSuffix #buttonEl (click)="foxxx.toggle()" type="button"
                        id="forix">edit_calendar</mat-icon>

                </mat-form-field>
            </div>

            <div class="col-md-{{maxColComision}}" *ngIf="blComisionAux">
                <mat-form-field class="example-full-width" appearance="outline" style="width:100%">
                    <mat-label>Pais</mat-label>
                    <mat-select placeholder="Pais" [ngModelOptions]="{standalone: true}" [(ngModel)]="IResolucion.pais">
                        <mat-option *ngFor="let e of lstPais" value="{{e.codigo}}">{{e.nombre}}</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
        </div>







        <div class="form-row">
            <div class="form-group col-md-12">
                <div>
                    <textarea class="form-control" cols="30" rows="4" [ngModelOptions]="{standalone: true}"
                        [(ngModel)]="IResolucion.asunto" placeholder="Introduzca el asunto..."
                        style="width: 100%">{{IResolucion.asunto}}</textarea>

                </div>
            </div>
        </div>












        <div class="form-row">
            <div class="form-group col-md-12">
                <textarea class="form-control" cols="30" rows="4" [ngModelOptions]="{standalone: true}"
                    [(ngModel)]="IResolucion.instrucciones" placeholder="Instrucciones..."
                    style="width: 100%">{{IResolucion.instrucciones}}</textarea>
            </div>
        </div>

        <div class="form-row">
            <div class="form-group col-md-12">
                <textarea class="form-control" cols="30" rows="4" [ngModelOptions]="{standalone: true}"
                    [(ngModel)]="IResolucion.observacion" placeholder="Introduzca el texto para observacion..."
                    style="width: 100%">{{IResolucion.observacion}}</textarea>
            </div>
        </div>

        <div class="form-row">
            <div class="form-group col-md-6">
                <label> Distribuci&oacute;n </label>
                <select class="form-control" [ngModelOptions]="{standalone: true}"
                    [(ngModel)]="IResolucion.distribucion">
                    <option value="0">PUBLICAR</option>
                    <option value="1">PUBLICAR</option>
                    <option value="2">CONFIDENCIAL</option>
                    <option value="3">SECRETO</option>
                </select>
            </div>
            <div class="form-group col-md-6">
                <label> Cargar Archivo </label>
                <form method="post" enctype="multipart/form-data" id="forma" name="forma">
                    <input type="hidden" name="identificador" value="{{hashcontrol}}" readonly="readonly">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="input_container">
                                <input (change)="fileSelected($event)" id="fileUpload" type="file" name="archivos"
                                    accept=".pdf" />

                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12 text-right" style="padding-right: 30px;">
                <button class="btn bg-gradient-success text-white " (click)="AceptarResoluciones()" id="btncls">
                    <span class="fa fa-share"></span>&nbsp;&nbsp;Guardar
                </button>
                <button class="btn btn-warning" aria-label="Close" (click)="modal.dismiss('Close')">
                    <span class="fa fa-times"></span>&nbsp;&nbsp;Cancelar
                </button>
            </div>

        </div>




    </div>
</ng-template>