<div class="header bg-gradient-success pb-8 pt-4 pt-md-8">
    <div class="container-fluid">
        <p></p>
    </div>
</div>
<div class="container-fluid mt--9">
    <div class="row">
        <div class="col-md-12">
            <div class="card">
                <div class="card-header bg-transparent">
                    <div class="row align-items-center">
                        <div class="col-md-9">
                            <h6 class="text-uppercase text-muted ls-1 mb-1">Resoluciones</h6>
                            <h2 class="mb-0">Registrar Entradas</h2>
                        </div>
                        <div class="col-md-1">
                            <div class="media align-items-center">
                                <div class="example-button-row">
                                    <button mat-icon-button title="Volver Atrás" *ngIf="bPDF"
                                        (click)="verArchivos(archivos)">
                                        <mat-icon>wallpaper</mat-icon>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-1">
                            <div class="media align-items-center">
                                <div class="example-button-row">
                                    <button mat-icon-button title="Volver Atrás" onclick="history.back()">
                                        <mat-icon>reply</mat-icon>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-1">
                            <ul class="navbar-nav align-items-right d-none d-md-flex">
                                <li class="nav-item" ngbDropdown placement="bottom-right">
                                    <a class="nav-link pr-0" role="button" ngbDropdownToggle>
                                        <div class="media align-items-center">
                                            <div class="example-button-row">
                                                <button mat-icon-button aria-label="">
                                                    <mat-icon>more_vert</mat-icon>
                                                </button>
                                            </div>
                                        </div>
                                    </a>
                                    <div class="dropdown-menu-arrow dropdown-menu-right" ngbDropdownMenu>
                                        <a routerLinkActive="active" class="dropdown-item">
                                            <i class="fa fa-plus"></i>
                                            <span>Agregar Imagen</span>
                                        </a>
                                    </div>
                                </li>
                            </ul>
                        </div>

                    </div>
                </div>
                <div class="card-body">
                    <form>
                        <div class="row">
                            <div class="col-md-9">

                                <div class="row">
                                    <div class="form-group col-md-12">
                                        <label for="txtObjeto">Cuenta o Oficio</label>
                                        <div class="NgxEditor__Wrapper">
                                            <ngx-editor-menu [editor]="xeditor"> </ngx-editor-menu>
                                            <ngx-editor [ngModelOptions]="{standalone: true}" [editor]="xeditor"
                                                [(ngModel)]="Resolucion.asunto" [disabled]="false" [placeholder]="'Escibe aqui...'">
                                            </ngx-editor>
                                        </div>
                                    </div>
                                </div>

                                <!-- <hr class="mb-1">
                            <h6 class="text-uppercase text-muted ls-1 mb-4">Datos Personales</h6> -->
                                <div class="row">
                                    <div class="form-group col-md-2">
                                        <label> Cédula </label>
                                        <input type="text" [ngModelOptions]="{standalone: true}"
                                            [(ngModel)]="Resolucion.cedula" value="{{Resolucion.cedula}}"
                                            class="form-control">
                                    </div>
                                    <div class="form-group col-md-5">
                                        <label> Nombres </label>
                                        <input type="text" [ngModelOptions]="{standalone: true}"
                                            [(ngModel)]="Resolucion.nombres" value="{{Resolucion.nombres}}"
                                            class="form-control">
                                    </div>
                                    <div class="form-group col-md-5">
                                        <label> Apellidos </label>
                                        <input type="text" [ngModelOptions]="{standalone: true}"
                                            [(ngModel)]="Resolucion.apellidos" value="{{Resolucion.apellidos}}"
                                            class="form-control">
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="form-group col-md-6">
                                        <label for="tmsOrigen">Fecha de Nacimiento</label>
                                        <form class="form-inline">
                                            <div class="form-group" style="width:100%">
                                                <div class="input-group" style="width:100%">
                                                    <input class="form-control" placeholder="AAAA-MM-DD"
                                                        [ngModelOptions]="{standalone: true}" [(ngModel)]="vigencia"
                                                        ngbDatepicker #vi="ngbDatepicker"
                                                        [value]="formatter.format(fvigencia)" [placement]="placement"
                                                        [positionTarget]="buttonEl">
                                                    <div class="input-group-append">
                                                        <button #buttonEl class="btn calendario" (click)="vi.toggle()"
                                                            type="button">
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                    <div class="form-group col-md-6">
                                        <label> Sexo </label>
                                        <select class="form-control" [ngModelOptions]="{standalone: true}"
                                            [(ngModel)]="Resolucion.sexo" value="{{Resolucion.sexo}}">
                                            <option value="0">Seleccione</option>
                                            <option value="Masculino">MASCULINO</option>
                                            <option value="Femenino">FEMENINO</option>
                                        </select>
                                    </div>
                                </div>

                            </div>
                            <div class="col-md-3">
                                <div class="row">
                                    <br><br>
                                    <div class="col-md-12 text-center">
                                        <br>
                                        <img src="https://app.ipsfa.gob.ve/sssifanb/afiliacion/temp/13587538/foto.jpg" 
                                         style="width: 180px; border: 1px; padding:2px">
                                    </div>
                                </div>
                               
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>

    </div>
    <br>
    <div class="row">
        <div class="col-md-12">
            <div class="card">
                <div class="card-body">
                    <h6 class="text-uppercase text-muted ls-1 mb-4">Datos Militares</h6>
                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label> Componente </label>
                            <select class="form-control" [ngModelOptions]="{standalone: true}"
                                [(ngModel)]="Resolucion.componente" value="{{Resolucion.componente}}">
                                <option value="0">Seleccione</option>
                            </select>
                        </div>
                        <div class="form-group col-md-6">
                            <label> Categoría </label>
                            <select class="form-control" [ngModelOptions]="{standalone: true}"
                                [(ngModel)]="Resolucion.categoria" value="{{Resolucion.categoria}}">
                                <option value="0">Seleccione</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label> Clasificación </label>
                            <select class="form-control" [ngModelOptions]="{standalone: true}"
                                [(ngModel)]="Resolucion.clasificacion" value="{{Resolucion.clasificacion}}">
                                <option value="0">Seleccione</option>
                            </select>
                        </div>
                        <div class="form-group col-md-6">
                            <label> Grado </label>
                            <select class="form-control" [ngModelOptions]="{standalone: true}"
                                [(ngModel)]="Resolucion.grado" value="{{Resolucion.grado}}">
                                <option value="0">Seleccione</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label> Fecha de Ingreso FANB </label>
                            <form class="form-inline">
                                <div class="form-group" style="width:100%">
                                    <div class="input-group" style="width:100%">
                                        <input class="form-control" placeholder="AAAA-MM-DD"
                                            [ngModelOptions]="{standalone: true}" [(ngModel)]="vigencia" ngbDatepicker
                                            #vi="ngbDatepicker" [value]="formatter.format(fvigencia)"
                                            [placement]="placement" [positionTarget]="buttonEl">
                                        <div class="input-group-append">
                                            <button #buttonEl class="btn calendario" (click)="vi.toggle()"
                                                type="button">
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <div class="form-group col-md-6">
                            <label> Situación </label>
                            <select class="form-control" [ngModelOptions]="{standalone: true}"
                                [(ngModel)]="Resolucion.situacion" value="{{Resolucion.situacion}}">
                                <option value="0">Seleccione</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group col-md-4">
                            <label> Número de Resolución </label>
                            <input type="text" class="form-control" [ngModelOptions]="{standalone: true}"
                                [(ngModel)]="Resolucion.numero" value="{{Resolucion.numero}}">
                        </div>
                        <div class="form-group col-md-8">
                            <label> Tipo de Resolución </label>
                            <select class="form-control" [ngModelOptions]="{standalone: true}"
                                [(ngModel)]="Resolucion.tipo" value="{{Resolucion.tipo}}">
                                <option value="0">Seleccione</option>
                            </select>
                        </div>
                    </div>



                    <div class="form-row">
                        <div class="form-group col-md-4">
                            <label> Número Carpeta </label>
                            <input type="text" class="form-control" [ngModelOptions]="{standalone: true}"
                                [(ngModel)]="Resolucion.carpeta" value="{{Resolucion.carpeta}}">
                        </div>
                        <div class="form-group col-md-4">
                            <label> Estatus </label>
                            <select class="form-control" [ngModelOptions]="{standalone: true}"
                                [(ngModel)]="Resolucion.estatus" value="{{Resolucion.estatus}}">
                                <option value="0">Seleccione</option>
                            </select>
                        </div>
                        <div class="form-group col-md-4">
                            <label> Carpeta Entrada </label>
                            <input type="text" class="form-control" [ngModelOptions]="{standalone: true}"
                                [(ngModel)]="Resolucion.entrada" value="{{Resolucion.entrada}}">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group col-md-12">
                            <label for="txtObjeto">Asunto</label>
                            <div class="NgxEditor__Wrapper">
                                <ngx-editor-menu [editor]="editor"> </ngx-editor-menu>
                                <ngx-editor [ngModelOptions]="{standalone: true}" [editor]="editor"
                                    [(ngModel)]="Resolucion.asunto" [disabled]="false" [placeholder]="'Escibe aqui...'">
                                </ngx-editor>
                            </div>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group col-md-12">
                            <label for="txtObjeto">Observaciones</label>
                            <div class="NgxEditor__Wrapper">
                                <ngx-editor-menu [editor]="xeditor"> </ngx-editor-menu>
                                <ngx-editor [ngModelOptions]="{standalone: true}" [editor]="xeditor"
                                    [(ngModel)]="Resolucion.observacion " [disabled]="false"
                                    [placeholder]="'Escibe aqui...'">
                                </ngx-editor>
                            </div>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label>Responsable</label>
                            <input type="text" class="form-control" [ngModelOptions]="{standalone: true}"
                                [(ngModel)]="Resolucion.responsable" value="{{Resolucion.responsable}}">
                        </div>
                        <div class="form-group col-md-6">
                            <label>Cargo Responsable</label>
                            <input type="text" class="form-control" [ngModelOptions]="{standalone: true}"
                                [(ngModel)]="Resolucion.cargo_responsable" value="{{Resolucion.cargo_responsable}}">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="text-right">
                                <button class="btn bg-primary text-white" (click)="guardar()">Aceptar</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Fin de Tarjeta Padre -->
</div>





<!-- Adjuntar Imagenes al Documento -->
<ng-template #archivos let-modal>
    <div class="modal-header header bg-gradient-success">
        <h4 class="modal-title" id="modal-basic-title">Lista de Archivos asociados {{ numControl }}</h4>

    </div>
    <div class="modal-body">


        <div class="form-group col-md-12">
            <div class="card card-profile">
                <div class="card-header bg-info"
                    style="background-image: url('./assets/img/theme/inn.svg'); height: 80px;">
                    <div class="card-avatar text-center">
                        <a href="javascript:;">
                            <img class="img img-raised rounded-circle" src="./assets/img/theme/pdf2.jpeg"
                                style="width:100px;z-index: 1; margin-top: -5px;">3
                        </a>
                    </div>
                </div>
                <br>

                <div class="card-body pt-0">

                    <div class="d-flex justify-content-between">
                        <a [href]="download" target="_top" rel="noopener noreferrer"
                            class="btn btn-primary mt-3">Descargar</a>
                        <a (click)="activarHistorial()" class="btn btn-default float-right mt-3">Historial</a>
                    </div>
                    <br><br>
                    <div class="text-center">
                        <div class="font-weight-50">
                            Publicado<span class="font-weight-light">, {{ Doc.fcreacion | date:"dd-MM-yy
                                hh:mm:ss"}}</span>
                            <br>
                            <h5 class="h4" style="font-size: 10px;">{{ Doc.creador }}</h5>
                        </div>
                    </div>
                    <div style="margin-left: -10px;height:300px;overflow-x:scroll;width:104%" *ngIf="bHist">
                        <table class="table">
                            <thead class="thead-light">
                                <th>Documento</th>
                                <th>Usuario</th>
                                <th>Fecha</th>
                            </thead>
                            <tbody>

                                <tr [ngModelOptions]="{standalone: true}" *ngFor="let el of lstHzAdjunto;let i=index">

                                    <td>
                                        <a [href]="dwUrl(Doc.ncontrol, el.nombre)" target="_top"
                                            rel="noopener noreferrer">
                                            {{ el.nombre.substring(20,32) }}
                                        </a>
                                    </td>
                                    <td>{{ el.usuario }}</td>
                                    <td>{{ el.fecha | date:"dd/MM/yy hh:mm:ss"}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button class="btn btn-warning" aria-label="Close" (click)="modal.dismiss('Close')">
            <span class="fa fa-times"></span>&nbsp;&nbsp;Cancelar</button>
    </div>
</ng-template>