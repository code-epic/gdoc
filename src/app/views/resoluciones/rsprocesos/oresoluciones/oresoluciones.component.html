<ngx-ui-loader [loaderId]="'loader-buscar'"></ngx-ui-loader>
<div class="row anim-item">
    <div class="col-md-12">

        <div class="alert alert-danger shadow-sm border-0 mb-4"
            style="border-radius: 25px; background-color: #f8d7da; color: #721c24; padding: 15px;" *ngIf="blAlert">
            <div class="d-flex align-items-center">
                <mat-icon class="mr-2">report_problem</mat-icon>
                <span><strong>Aviso:</strong> Esto es una alerta de sistema.</span>
            </div>
        </div>

        <form>
            <div class="form-row">
                <div class="form-group col-md-3">
                    <label class="form-label-custom">Cédula</label>
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text icon-box">
                                <mat-icon class="input-icon">fingerprint</mat-icon>
                            </span>
                        </div>
                        <input type="text" class="input-custom" [ngModelOptions]="{standalone: true}"
                            [(ngModel)]="IResolucion.cedula" (blur)="consultarCedula()" placeholder="Cédula">

                    </div>
                </div>

                <div class="form-group col-md-3">
                    <label class="form-label-custom">Grado</label>
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text icon-box">
                                <mat-icon class="input-icon">military_tech</mat-icon>
                            </span>
                        </div>
                        <input type="text" class="input-custom" [ngModelOptions]="{standalone: true}"
                            [(ngModel)]="Resolucion.gran_comando" readonly="true">
                    </div>
                </div>

                <div class="form-group col-md-6">
                    <label class="form-label-custom">Nombre completo</label>
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text icon-box">
                                <mat-icon class="input-icon">person</mat-icon>
                            </span>
                        </div>
                        <input type="text" class="input-custom" [ngModelOptions]="{standalone: true}"
                            [(ngModel)]="Resolucion.nombres" readonly="true">
                    </div>
                </div>
            </div>

            <div class="row mt-2">
                <div class="col-md-12">
                    <div class="table-responsive">
                        <table class="table table-bordered mb-0 " style="border: 1px solid #a8adb3;">
                            <thead>
                                <tr style="background-color: #f6f9fc;">
                                    <th class="text-center font-weight-bold py-3" style="color: #32325d !important;">
                                        COMPONENTE</th>
                                    <th class="text-center font-weight-bold py-3" style="color: #32325d !important;">
                                        CATEGORIA</th>
                                    <th class="text-center font-weight-bold py-3" style="color: #32325d !important;">
                                        CLASIFICACION</th>
                                    <th class="text-center font-weight-bold py-3" style="color: #32325d !important;">
                                        SITUACION</th>
                                </tr>
                            </thead>
                            <tbody class="bg-white">
                                <tr class="text-center">
                                    <td class="py-3 font-weight-600">{{Resolucion.componente}}</td>
                                    <td class="py-3 font-weight-600">{{Resolucion.categoria}}</td>
                                    <td class="py-3 font-weight-600">{{Resolucion.clasificacion}}</td>
                                    <td class="py-3 font-weight-600">ACTIVO</td>
                                </tr>
                                <tr>
                                    <td colspan="4" class="p-3" style="background-color: #f6f9fc;">
                                        <label class="form-label-custom mb-1" style="font-size: 11px;">ÚLTIMA
                                            RESOLUCIÓN: {{ nombramiento }}</label>
                                        <textarea rows="2" class="border-0 bg-transparent p-0"
                                            style="resize: none; font-size: 13px; width: 100%;"
                                            readonly="true">{{ xasunto | uppercase }}</textarea>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div class="form-row mt-4" *ngIf="blDbEspecialidad">
                <div class="form-group col-md-4">
                    <label class="form-label-custom">Especialidad</label>
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text icon-box"><mat-icon class="input-icon">stars</mat-icon></span>
                        </div>
                        <input type="text" class="input-custom bg-light" [(ngModel)]="IDatosBasicos.especialidad"
                            disabled>
                    </div>
                </div>
                <div class="col-md-4">
                    <label class="form-label-custom">Área</label>
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text icon-box"><mat-icon class="input-icon">map</mat-icon></span>
                        </div>
                        <input type="text" class="input-custom bg-light" [(ngModel)]="IDatosBasicos.area" disabled>
                    </div>
                </div>
                <div class="col-md-4">
                    <label class="form-label-custom">Estudios</label>
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text icon-box"><mat-icon
                                    class="input-icon">school</mat-icon></span>
                        </div>
                        <input type="text" class="input-custom bg-light" [(ngModel)]="IDatosBasicos.estudios" disabled>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>


<br>



<div class="row" [ngStyle]="{'display':contentView}">
    <div class="col-md-12">

        <div class="form-row mt-3">

            <div class="form-group col-md-5">
                <label class="form-label-custom">Formato del Documento</label>
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text icon-box">
                            <mat-icon class="input-icon">description</mat-icon>
                        </span>
                    </div>
                    <select class="input-custom" [ngModelOptions]="{standalone: true}"
                        [(ngModel)]="IResolucion.documento">
                        <option value="0">RESOLUCION</option>
                        <option value="1">ORDEN GENERAL</option>
                    </select>
                </div>
            </div>

            <div class="form-group col-md-3">
                <label class="form-label-custom">Número de Resolución</label>
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text icon-box">
                            <mat-icon class="input-icon">tag</mat-icon>
                        </span>
                    </div>
                    <input type="text" class="input-custom" [(ngModel)]="IResolucion.numero"
                        [ngModelOptions]="{standalone: true}" placeholder="0000">
                </div>
            </div>

            <div class="form-group col-md-4">
                <label class="form-label-custom">Fecha de Resolución (*)</label>
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text icon-box" (click)="fo.toggle()" style="cursor: pointer;">
                            <mat-icon class="input-icon">edit_calendar</mat-icon>
                        </span>
                    </div>
                    <input class="input-custom" placeholder="AAAA-MM-DD" [ngModelOptions]="{standalone: true}"
                        [(ngModel)]="fecha_resolucion" ngbDatepicker #fo="ngbDatepicker" [placement]="placement"
                        readonly (click)="fo.toggle()">
                </div>
            </div>
        </div>

        <div class="form-row">

            <div class="form-group col-md-{{maxCol}}">
                <mat-form-field class="example-full-width" appearance="outline" style="width:100%">
                    <mat-label style="width:100%">Tipo de Resolución</mat-label>
                    <input type="text" matInput [formControl]="myControl" [matAutocomplete]="auto"
                        (blur)="seleccionTipo()" [(ngModel)]="tipo">
                    <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayFn" style="width:100%">
                        <mat-option *ngFor="let option of filteredOptions | async" [value]="option">
                            {{option.nombre}}
                        </mat-option>
                    </mat-autocomplete>
                    <mat-icon matSuffix>search</mat-icon>
                </mat-form-field>
            </div>

            <div class="col-md-6" *ngIf="blComision">
                <mat-form-field class="example-full-width" appearance="outline" style="width:100%">
                    <mat-label>Administracion publica</mat-label>
                    <mat-select placeholder="Administracion publica" [ngModelOptions]="{standalone: true}"
                        [(ngModel)]="IResolucion.solicitud">
                        <mat-option *ngFor="let e of lstCausa;" [value]="e.codigo">{{e.nombre}}</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>

            <div class="col-md-6" *ngIf="blCategoria">
                <mat-form-field class="example-full-width" appearance="outline" style="width:100%">
                    <mat-label>Categoria</mat-label>
                    <mat-select placeholder="Categoria" [ngModelOptions]="{standalone: true}"
                        [(ngModel)]="IDatosBasicos.categoria">
                        <mat-option *ngFor="let e of Categorias;"
                            [value]="e.cod_categoria">{{e.nombre_categoria}}</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
            <div class="col-md-6" *ngIf="blComponente">
                <mat-form-field class="example-full-width" appearance="outline" style="width:100%">
                    <mat-label>Componente</mat-label>
                    <mat-select placeholder="Componente" [ngModelOptions]="{standalone: true}"
                        [(ngModel)]="IDatosBasicos.componente">
                        <mat-option *ngFor="let e of Componentes;"
                            [value]="e.cod_componente">{{e.nombre_componente}}</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>

            <div class="col-md-{{maxAscenso}}" *ngIf='blAscenso'>
                <mat-form-field class="example-full-width" appearance="outline" style="width:100%">
                    <mat-label>Grado</mat-label>
                    <mat-select placeholder="Grado para el ascenso" [ngModelOptions]="{standalone: true}"
                        [(ngModel)]="cmbGrado" value="{{cmbGrado}}">
                        <mat-option *ngFor="let e of Grados" value="{{ e.cod_grado }}">{{e.nombre_corto }} -
                            {{e.nombres_grado }}</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
            <div class="col-md-4" *ngIf='blAscensof'>
                <mat-form-field class="example-full-width" appearance="outline" style="width:100%">
                    <mat-label>Fecha del Ascenso ( * )</mat-label>

                    <input matInput placeholder="Fecha del Ascenso" [ngModelOptions]="{standalone: true}" ngbDatepicker
                        #fox="ngbDatepicker" [placement]="placement" [positionTarget]="buttonEl"
                        [(ngModel)]="ultimo_ascenso">
                    <mat-icon matSuffix #buttonEl (click)="fox.toggle()" type="button"
                        id="forix">edit_calendar</mat-icon>

                </mat-form-field>
            </div>


            <div class="col-md-1" *ngIf='blReconocer'>
                <mat-form-field class="example-full-width" appearance="outline" style="width:100%">
                    <mat-label>A&ntilde;o</mat-label>
                    <input type="number" matInput [(ngModel)]="IResolucion.anio" value="{{IResolucion.anio}}">

                </mat-form-field>
            </div>
            <div class="col-md-1" *ngIf='blReconocer'>
                <mat-form-field class="example-full-width" appearance="outline" style="width:100%">
                    <mat-label>Mes</mat-label>
                    <input type="number" matInput [(ngModel)]="IResolucion.mes" value="{{IResolucion.mes}}">

                </mat-form-field>
            </div>
            <div class="col-md-1" *ngIf='blReconocer'>
                <mat-form-field class="example-full-width" appearance="outline" style="width:100%">
                    <mat-label>Dia</mat-label>
                    <input type="number" matInput [(ngModel)]="IResolucion.dia" value="{{IResolucion.dia}}">

                </mat-form-field>
            </div>
            <div class="col-md-4" *ngIf='blReconocer'>
                <mat-form-field class="example-full-width" appearance="outline" style="width:100%">
                    <mat-label>Fecha Ultimo Ascenso (*)</mat-label>
                    <input matInput placeholder="Fecha del Ascenso" [ngModelOptions]="{standalone: true}" ngbDatepicker
                        #fox="ngbDatepicker" [placement]="placement" [positionTarget]="buttonEl"
                        [(ngModel)]="ultimo_ascenso">
                    <mat-icon matSuffix #buttonEl (click)="fox.toggle()" type="button"
                        id="forix">edit_calendar</mat-icon>
                </mat-form-field>
            </div>

            <div class="col-md-6" *ngIf='false'>
                <mat-form-field class="example-full-width" appearance="outline" style="width:100%">
                    <mat-label>Nivel 1</mat-label>
                    <input matInput placeholder="Nivel 1" [ngModelOptions]="{standalone: true}"
                        [(ngModel)]="IResolucion.comando" value="{{IResolucion.comando}}" readonly>

                </mat-form-field>
            </div>


            <!-- NOMBREAMIENTO -->
            <div class="col-md-6" *ngIf="blNombramiento">
                <mat-form-field class="example-full-width" appearance="outline" style="width:100%">
                    <mat-label style="width:100%">Unidad</mat-label>

                    <input matInput placeholder="Seleccionar unidad" [ngModelOptions]="{standalone: true}"
                        [(ngModel)]="IResolucion.unidad_texto" value="{{IResolucion.unidad_texto}}" readonly>
                    <mat-icon matSuffix (click)="viewUnidad()">folder</mat-icon>

                </mat-form-field>
            </div>
            <div class="col-md-12" *ngIf="blNombramiento">
                <textarea rows="5" name="text" placeholder="Descripcion de la estructura"
                    style="width: 100%; border: 0px;" disabled="disabled"
                    readonly>{{ estructura_detalle | uppercase}}</textarea>
            </div>



            <!-- Corregir -->
            <div class="col-md-{{maxCorregir}}" *ngIf="blCorregir">
                <mat-form-field class="example-full-width" appearance="outline" style="width:100%">
                    <mat-label>Vincular Resoluci&oacute;n</mat-label>
                    <input matInput placeholder="Numero de resolucion" [ngModelOptions]="{standalone: true}"
                        [(ngModel)]="IResolucion.otro_resuelto" (blur)="vincular()">

                </mat-form-field>
            </div>
            <div class="col-md-{{maxCorregir}}" *ngIf="blCorregir">
                <mat-form-field class="example-full-width" appearance="outline" style="width:100%">
                    <mat-label>Fecha (*)</mat-label>
                    <input matInput [matDatepicker]="xpickerx" [(ngModel)]="fresolucion"
                        [ngModelOptions]="{standalone: true}" [ngModelOptions]="{standalone: true}" disabled="disabled">
                    <mat-datepicker-toggle matSuffix [for]="xpickerx"></mat-datepicker-toggle>
                    <mat-datepicker #xpickerx></mat-datepicker>
                </mat-form-field>


            </div>
            <div class="col-md-12" *ngIf="blCorregir">
                <mat-form-field class="example-full-width" appearance="outline" style="width:100%">
                    <mat-label>Asunto de la resolucion</mat-label>
                    <input matInput placeholder="Asunto de la resolucion" [ngModelOptions]="{standalone: true}"
                        [(ngModel)]="aresolucion" disabled="disabled">

                </mat-form-field>
            </div>

            <div class="col-md-{{maxExtender}}" *ngIf="blExtender">
                <mat-form-field class="example-full-width" appearance="outline" style="width:100%">
                    <mat-label>Fecha Inicio(*)</mat-label>
                    <input matInput [matDatepicker]="fipicker" [ngModelOptions]="{standalone: true}"
                        [(ngModel)]="comision_inicio">
                    <mat-datepicker-toggle matSuffix [for]="fipicker"></mat-datepicker-toggle>
                    <mat-datepicker #fipicker></mat-datepicker>
                </mat-form-field>
            </div>

            <div class="col-md-{{maxExtender}}" *ngIf="blExtender">
                <mat-form-field class="example-full-width" appearance="outline" style="width:100%">
                    <mat-label>Fecha Fin(*)</mat-label>
                    <input matInput [matDatepicker]="ffpicker" [ngModelOptions]="{standalone: true}"
                        [(ngModel)]="comision_fin">
                    <mat-datepicker-toggle matSuffix [for]="ffpicker"></mat-datepicker-toggle>
                    <mat-datepicker #ffpicker></mat-datepicker>
                </mat-form-field>
            </div>



        </div>
        <div class="form-row" *ngIf="blReserva">
            <div class="col-md-6">
                <mat-form-field class="example-full-width" appearance="outline" style="width:100%">
                    <mat-label>Causa</mat-label>
                    <mat-select placeholder="Tipo de Comision" [ngModelOptions]="{standalone: true}"
                        [(ngModel)]="IResolucion.solicitud" (selectionChange)="getMotivo()">
                        <mat-option *ngFor="let e of lstCausa" value="{{e.codigo}}">{{e.nombre}}</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>

            <div class="col-md-6">
                <mat-form-field class="example-full-width" appearance="outline" style="width:100%">
                    <mat-label>Motivo</mat-label>
                    <mat-select placeholder="Tipo de Comision" [ngModelOptions]="{standalone: true}"
                        [(ngModel)]="IResolucion.reserva" (selectionChange)="getDetalle()">
                        <mat-option *ngFor="let e of lstMotivo" value="{{e.codigo}}">{{e.nombre}}</mat-option>

                    </mat-select>
                </mat-form-field>
            </div>
        </div>

        <div class="form-row" *ngIf="blReservaAux">
            <div class="form-group col-md-12">
                <textarea rows="5" name="text" placeholder="Descripcion de la falta o delito"
                    [ngModelOptions]="{standalone: true}" [(ngModel)]="IResolucion.falta"
                    style="width: 100%; border: 0px;"></textarea>
            </div>
        </div>

        <div class="form-row" *ngIf="blComision">
            <div class="col-md-{{maxColComision}}">
                <mat-form-field class="example-full-width" appearance="outline" style="width:100%">
                    <mat-label>Fecha Inicio(*)</mat-label>
                    <input matInput placeholder="Fecha Inicio" [ngModelOptions]="{standalone: true}" ngbDatepicker
                        #foxx="ngbDatepicker" [placement]="placement" [positionTarget]="buttonEl"
                        [(ngModel)]="comision_inicio">
                    <mat-icon matSuffix #buttonEl (click)="foxx.toggle()" type="button"
                        id="forix">edit_calendar</mat-icon>
                </mat-form-field>
            </div>

            <div class="col-md-{{maxColComision}}">
                <mat-form-field class="example-full-width" appearance="outline" style="width:100%">
                    <mat-label>Fecha Fin(*)</mat-label>
                    <input matInput placeholder="Fecha Fin" [ngModelOptions]="{standalone: true}" ngbDatepicker
                        #foxxx="ngbDatepicker" [placement]="placement" [positionTarget]="buttonEl"
                        [(ngModel)]="comision_fin">
                    <mat-icon matSuffix #buttonEl (click)="foxxx.toggle()" type="button"
                        id="forix">edit_calendar</mat-icon>

                </mat-form-field>
            </div>

            <div class="col-md-{{maxColComision}}" *ngIf="blComisionAux">
                <mat-form-field class="example-full-width" appearance="outline" style="width:100%">
                    <mat-label>Pais</mat-label>
                    <mat-select placeholder="Pais" [ngModelOptions]="{standalone: true}" [(ngModel)]="IResolucion.pais">
                        <mat-option *ngFor="let e of lstPais" value="{{e.codigo}}">{{e.nombre}}</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
        </div>

        <div class="form-row">
            <div class="form-group col-md-12">
                <div class="NgxEditor__Wrapper">
                    <label>
                        <mat-icon class="text-blue" matSuffix type="button" id="fori"
                            (click)="Autocompletar()">save_alt</mat-icon> [ Autocompletar datos ] Asunto
                    </label>

                    <textarea class="form-control" cols="30" rows="4" [ngModelOptions]="{standalone: true}"
                        [(ngModel)]="IResolucion.asunto" placeholder="Introduzca el asunto..."
                        style="width: 100%">{{IResolucion.asunto}}</textarea>

                </div>
            </div>
        </div>

        <div class="form-row">
            <div class="form-group col-md-12">
                <textarea class="form-control" cols="30" rows="4" [ngModelOptions]="{standalone: true}"
                    [(ngModel)]="IResolucion.instrucciones" placeholder="Instrucciones..."
                    style="width: 100%">{{IResolucion.instrucciones}}</textarea>
            </div>
        </div>

        <div class="form-row">
            <div class="form-group col-md-12">
                <textarea class="form-control" cols="30" rows="4" [ngModelOptions]="{standalone: true}"
                    [(ngModel)]="IResolucion.observacion" placeholder="Introduzca el texto para observacion..."
                    style="width: 100%">{{IResolucion.observacion}}</textarea>
            </div>
        </div>

        <div class="form-row">
            <div class="form-group col-md-6">
                <label class="form-label-custom">Distribución / Clasificación</label>
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text icon-box">
                            <mat-icon class="input-icon">security</mat-icon>
                        </span>
                    </div>
                    <select class="input-custom" [ngModelOptions]="{standalone: true}" [(ngModel)]="IResolucion.distribucion">
                        <option value="0">PUBLICAR</option>
                        <option value="1">PUBLICAR (RESTRINGIDO)</option>
                        <option value="2">CONFIDENCIAL</option>
                        <option value="3">SECRETO</option>
                    </select>
                </div>
            </div>
            <div class="form-group col-md-6">
                <label> Cargar Archivo </label>
                <form method="post" enctype="multipart/form-data" id="forma" name="forma">
                    <input type="hidden" name="identificador" value="{{hashcontrol}}" readonly="readonly">
                    <input type="hidden" name="return" value="true" readonly="readonly">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="input_container">
                                <input (change)="fileSelected($event)"  type="file" name="archivos"
                                    accept=".pdf" />

                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>

        <hr>
        <div class="row">
            <div class="col-md-12">
                <div class="text-right">
                    <button class="btn btn-pastel text-white px-4 py-2" (click)="SubirArchivo()"
                        *ngIf="blAceptar"><i class="fa fa-check mr-2"></i> Aceptar</button>
                </div>
            </div>
        </div>
        <br><br>


    </div>
</div>

<div class="row" [ngStyle]="{'display':searchView}">
    <div class="col-md-12">
        <div class="card">
            <div class="card-body">

                <br>
                <div class="row">
                    <div class="col-md-12 text-right">
                        <button mat-icon-button aria-label="volver" (click)="atras()">
                            <mat-icon class="texto-gray">arrow_back</mat-icon>
                        </button>
                    </div>
                </div>
                <br>
                <div class="row">
                    <div class="col-md-3 text-right">

                    </div>
                    <div class="col-md-6 text-center">

                        <h2 class="text-warning mb-0" style="font-size:32px">Buscar unidad</h2>
                        <br>
                        <form class="navbar-search">
                            <div class="form-group">
                                <div class="input-group input-group-alternative">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text"><i class="fa fa-search "></i></span>
                                    </div>
                                    <input class="form-control" placeholder="Buscar" type="text"
                                        [ngModelOptions]="{standalone: true}" [(ngModel)]="buscar"
                                        (focus)="focus = true" (blur)="focus = false" (keypress)="Consultar($event)">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text"><i class="fa fa-sliders"></i></span>
                                    </div>

                                </div>
                            </div>
                        </form>

                    </div>
                    <div class="col-md-3">

                    </div>

                </div>
                <mat-selection-list>
                    <mat-list *ngFor="let e of lstEstructura; let i=index "
                        style="border-bottom: 1px rgba(224, 223, 223, 0.945) solid;">
                        <div class="row">

                            <div class="col-md-2 texto-detalle">
                                {{ e.nivel_1 | uppercase }}
                            </div>
                            <div class="col-md-2 texto-lista">
                                {{ e.nivel_2 | uppercase}}
                            </div>
                            <div class="col-md-3 texto-detalle">
                                {{ e.nivel_3 | uppercase }}
                            </div>
                            <div class="col-md-2 texto-detalle">
                                {{ e.nivel_4 | uppercase }}
                            </div>
                            <div class="col-md-2 texto-detalle">
                                {{ e.nivel_5 | uppercase }}
                            </div>

                            <div class="col-md-1 text-right">
                                <button mat-icon-button aria-label="asignar" (click)="asignar(e)">
                                    <mat-icon class="texto-gray">forward</mat-icon>
                                </button>

                            </div>
                        </div>
                    </mat-list>
                </mat-selection-list>

            </div>
        </div>
    </div>
</div>


<br><br> <br><br>




<!-- Adjuntar Imagenes al Documento -->
<ng-template #archivos let-modal>
    <div class="modal-header header bg-gradient-success">
        <h4 class="modal-title" id="modal-basic-title">Lista de Archivos asociados {{ numControl }}</h4>

    </div>
    <div class="modal-body">


        <div class="form-group col-md-12">
            <div class="card card-profile">
                <div class="card-header bg-info"
                    style="background-image: url('./assets/img/theme/inn.svg'); height: 80px;">
                    <div class="card-avatar text-center">
                        <a href="javascript:;">
                            <img class="img img-raised rounded-circle" src="./assets/img/theme/pdf2.jpeg"
                                style="width:100px;z-index: 1; margin-top: -5px;">3
                        </a>
                    </div>
                </div>
                <br>

                <div class="card-body pt-0">

                    <div class="d-flex justify-content-between">
                        <a [href]="download" target="_top" rel="noopener noreferrer"
                            class="btn btn-primary mt-3">Descargar</a>
                        <a (click)="activarHistorial()" class="btn btn-default float-right mt-3">Historial</a>
                    </div>
                    <br><br>
                    <div class="text-center">
                        <div class="font-weight-50">
                            Publicado<span class="font-weight-light">, {{ Doc.fcreacion | date:"dd-MM-yy
                                hh:mm:ss"}}</span>
                            <br>
                            <h5 class="h4" style="font-size: 10px;">{{ Doc.creador }}</h5>
                        </div>
                    </div>
                    <div style="margin-left: -10px;height:300px;overflow-x:scroll;width:104%" *ngIf="bHist">
                        <table class="table">
                            <thead class="thead-light">
                                <th>Documento</th>
                                <th>Usuario</th>
                                <th>Fecha</th>
                            </thead>
                            <tbody>

                                <tr [ngModelOptions]="{standalone: true}" *ngFor="let el of lstHzAdjunto;let i=index">

                                    <td>
                                        <a [href]="dwUrl(Doc.ncontrol, el.nombre)" target="_top"
                                            rel="noopener noreferrer">
                                            {{ el.nombre.substring(20,32) }}
                                        </a>
                                    </td>
                                    <td>{{ el.usuario }}</td>
                                    <td>{{ el.fecha | date:"dd/MM/yy hh:mm:ss"}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button class="btn btn-warning" aria-label="Close" (click)="modal.dismiss('Close')">
            <span class="fa fa-times"></span>&nbsp;&nbsp;Cancelar</button>
    </div>
</ng-template>


<!-- Adjuntar Imagenes al Documento -->
<ng-template #detalles let-c="close" let-d="dismiss">

    <div class="modal-body">
        <p>
            Cedula: {{ipsfa_cedula}} <br>
            Nombre completo: {{ ipsfa_nombres_apellidos }} <br>
            Fecha de nacimiento: {{ ipsfa_fechanacimiento }} <br>
            Sexo: {{ipsfa_sexo}} <br>
        </p>
        <hr>
        <p>
            Componente: {{ipsfa_componente }} <br>
            Grado: {{ ipsfa_grado }} <br>
            Clasificacion: {{ipsfa_clasificacion }} <br>

            Categoria: {{ ipsfa_categoria }} <br>
            Situacion: {{ipsfa_situacion }} <br>
            Fecha de Ingreso: {{ ipsfa_fechaingreso }} <br>
            Fecha de Último Ascenso: {{ ipsfa_fechaultimoascenso }} <br>
        </p>
    </div>
    <div class="modal-footer">
        <button class="btn bg-primary text-white " (click)="AceptarCambios();c('Save')">
            <span class="fa fa-check"></span>&nbsp;&nbsp;Aceptar Cambios </button>
        <button class="btn btn-warning" aria-label="Close" (click)="c('Close')">
            <span class="fa fa-times"></span>&nbsp;&nbsp;Cancelar</button>
    </div>
</ng-template>